<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `syntax` mod in crate `tinytemplate`."><meta name="keywords" content="rust, rustlang, rust-lang, syntax"><title>tinytemplate::syntax - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../tinytemplate/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module syntax</p><div class="sidebar-elems"><p class='location'><a href='../index.html'>tinytemplate</a></p><script>window.sidebarCurrent = {name: 'syntax', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/tinytemplate/syntax.rs.html#1-172' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>tinytemplate</a>::<wbr><a class="mod" href=''>syntax</a></span></h1><div class='docblock'><p>Documentation of TinyTemplate's template syntax.</p>
<h3 id="context-types" class="section-header"><a href="#context-types">Context Types</a></h3>
<p>TinyTemplate uses <code>serde_json</code>'s Value structure to represent the context. Therefore, any
<code>Serializable</code> structure can be used as a context. All values in such structures are mapped to
their JSON representations - booleans, numbers, strings, arrays, objects and nulls.</p>
<h3 id="values" class="section-header"><a href="#values">Values</a></h3>
<p>Template values are marked with <code>{...}</code>. For example, this will look up the &quot;name&quot; field in
the context structure and insert it into the rendered string:</p>
<pre><code class="language-text">Hello, {name}, how are you?
</code></pre>
<p>Optionally, a value formatter may be provided. The value formatter must have been registered
with the <a href="../struct.TinyTemplate.html#method.add_formatter"><code>TinyTemplate.add_formatter</code></a>
function prior to rendering or an error will be generated. This will call the formatter function
registered as &quot;percent_formatter&quot; with the value of the &quot;percentage&quot; field:</p>
<pre><code class="language-text">Give it {percentage | percent_formatter}!
</code></pre>
<p>The value may be a dotted path through a hierarchy of context objects. This will look up the
&quot;friend&quot; field in the context structure, then substitute the &quot;name&quot; field from the &quot;friend&quot;
object.</p>
<pre><code class="language-text">And hello to {friend.name} as well!
</code></pre>
<h3 id="conditionals" class="section-header"><a href="#conditionals">Conditionals</a></h3>
<p>TinyTemplate blocks are marked with <code>{{...}}</code> - double-braces where values are single-braces.</p>
<p>Conditionals are denoted by &quot;{{ if path }}...{{ else }}...{{ endif }}&quot;. The Else block is
optional. Else-if is not currently supported. If &quot;path&quot; evaluates to a truthy expression
(true if boolean, non-zero if numeric, non-empty for strings and arrays, and non-null for
objects) then the section of the template between &quot;if&quot; and &quot;else&quot; is evaluated, otherwise the
section between &quot;else&quot; and &quot;endif&quot; (if present) is evaluated.</p>
<pre><code class="language-text">{{ if user.is_birthday }}
Happy Birthday!
{{ else }}
Have a nice day!
{{ endif }}
</code></pre>
<p>The condition can be negated by using &quot;{{ if not path }}&quot;:</p>
<pre><code class="language-text">{{ if not user.is_birthday }}
Have a nice day!
{{ else }}
Happy Birthday!
{{ endif }}
</code></pre>
<h3 id="loops" class="section-header"><a href="#loops">Loops</a></h3>
<p>TinyTemplate supports iterating over the values of arrays. Only arrays are supported. Loops
are denoted by &quot;{{ for value_name in value.path }}...{{ endfor }}&quot;. The section of the template between
the two tags will be executed once for each value in the array denoted by &quot;value.path&quot;.</p>
<pre><code class="language-text">Hello to {{ for name in guests }}
{name}
{{ endfor }}
</code></pre>
<p>If the iteration value chosen in the &quot;for&quot; tag is the same as that of a regular context value,
the name in the tag will shadow the context value for the scope of the loop. For nested loops,
inner loops will shadow the values of outer loops.</p>
<pre><code class="language-text">{{ for person in guests }}
Hello to {person}{{ for person in person.friends }} and your friend {person}{{ endfor }}
{{ endfor }}
</code></pre>
<p>There are three special values which are available within a loop:</p>
<ul>
<li><code>@index</code> - zero-based index of the current value within the array.</li>
<li><code>@first</code> - true if this is the first iteration of the loop, otherwise false.</li>
<li><code>@last</code> - true if this is the last iteration of the loop, otherwise false.</li>
</ul>
<pre><code class="language-text">Hello to {{ for name in guests -}}
{ @index }. {name},
{{- endfor }}
</code></pre>
<p>In case of nested loops, these values refer to the innermost loop which contains them.</p>
<h3 id="with-blocks" class="section-header"><a href="#with-blocks">With Blocks</a></h3>
<p>Templates can use with blocks to partially shadows the outer context, the same way that
for-loops do. These are formed like so:</p>
<p>&quot;{{ with path.to.value as name }}..{{ endwith }}&quot;&quot;</p>
<p>For example:</p>
<pre><code class="language-text">{{ with person.spouse as s }}
Hello { s.name }!
{{ endwith }}
</code></pre>
<p>This looks up &quot;person.spouse&quot; and adds that to the context as &quot;s&quot; within the block. Only the
name &quot;s&quot; is shadowed within the with block and otherwise the outer context is still accessible.</p>
<h3 id="trimming-whitespace" class="section-header"><a href="#trimming-whitespace">Trimming Whitespace</a></h3>
<p>If a block tag, comment or value tag includes a &quot;-&quot; character at the start, the trailing
whitespace of the previous text section will be skipped in the output. Likewise, if the tag
ends with a &quot;-&quot;, the leading whitespace of the following text will be skipped.</p>
<pre><code class="language-text">Hello { friend.name -}
, how are you?

{{- if status.good }} I am fine.               {{- endif }}
</code></pre>
<p>This will print &quot;Hello friend, how are you? I am fine.&quot; without the newlines or extra spaces.</p>
<h3 id="calling-other-templates" class="section-header"><a href="#calling-other-templates">Calling other Templates</a></h3>
<p>Templates may call other templates by name. The other template must have been registered using
the <a href="../struct.TinyTemplate.html#method.add_template"><code>TinyTemplate.add_template</code></a> function
before rendering or an error will be generated. This is done with the &quot;call&quot; tag:</p>
<p>&quot;{{ call template_name with path.to.context }}&quot;</p>
<p>The call tag has no closing tag. This will look up the &quot;path.to.context&quot; path in the current
context, then render the &quot;template_name&quot; template using the value at that path as the context
for the other template. The string produced by the called template is then inserted into the
output from the calling template. This can be used for a limited form of template code reuse.</p>
<h3 id="comments" class="section-header"><a href="#comments">Comments</a></h3>
<p>Comments in the templates are denoted by &quot;{# comment text #}&quot;. Comments will be skipped when
rendering the template, though whitespace adjacent to comments will not be stripped unless the
&quot;-&quot; is added. For example:</p>
<pre><code class="language-text">Hello

{#- This is a comment #} world!
</code></pre>
<p>This will print &quot;Hello world!&quot;.</p>
<h3 id="escaping-curly-braces" class="section-header"><a href="#escaping-curly-braces">Escaping Curly Braces</a></h3>
<p>If your template contains opening curly-braces (<code>{</code>), they must be escaped using a leading <code>\</code>
character. For example:</p>
<pre><code class="language-text">h2 \{
    font-size: {fontsize};
}
</code></pre>
<p>If using a string literal in rust source code, the <code>\</code> itself must be escaped, producing <code>\\{</code>.</p>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g., <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g., <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g., <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../";window.currentCrate = "tinytemplate";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>